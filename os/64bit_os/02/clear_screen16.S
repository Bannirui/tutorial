# 清屏
# 调用该函数不需要传递参数
.text
.code16

.global clear_screen

# 中断调用实现清屏功能
# 屏幕[(0,0)...(79,24)]这80行25列范围清屏
# 中断号 int 0x10
# 功能号 AH=0x06 指定范围的窗口滚动
# AL=滚动的列数 为0则实现清空屏幕功能
# BH=滚动后空出位置放入的属性
#   [7]     字体闪烁 0=不闪烁 1=闪烁
#   [6...4] 背景颜色 0=黑色 1=蓝色 2=绿色 3=青色 4=红色 5=紫色 6=棕色 7=白色
#   [3]     字体亮度 0=字体正常 1=字体高亮
#   [2...0] 字体颜色 0=黑色 1=蓝色 2=绿色 3=青色 4=红色 5=紫色 6=棕色 7=白色
# CH=滚动范围左上角坐标 列号
# CL=滚动范围左上角坐标 行号
# DH=滚动范围右下角坐标 列号
# DL=滚动范围右下角坐标 行号
clear_screen:
    push %bp
    mov %sp, %bp
    
    # AH功能号0x06 AL=0 清屏
    mov $0x0600, %ax
    # BH=0x07 清屏后的位置 不闪烁 白色
    # BL=0 清屏后的位置 字体正常 字体黑色
    mov $0x0700, %bx
    # CH=0 起始列
    # CL=0 起始行
    mov $0x0, %cx
    # DH=0x18 结束列
    # DL=0x4f 结束行
    mov $0x184f, %dx
    int $0x10

    mov %bp, %sp
    pop %bp
    ret